<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Quiz de Python</title>
</head>
<body>
  <h2>Quiz de Python</h2>
  <form id="quizForm">
    <ol>
      <li>
        <label>1. Qual é o tipo de dado retornado pela função <code>input()</code>?</label><br>
        <input type="text" name="q1" required>
      </li><br>

      <li>
        <label>2. Qual palavra-chave é usada para definir uma função em Python?</label><br>
        <input type="text" name="q2" required>
      </li><br>

      <li>
        <label>3. Qual é o resultado de <code>3 * 'a'</code>?</label><br>
        <input type="text" name="q3" required>
      </li><br>

      <li>
        <label>4. Como você cria um dicionário em Python?</label><br>
        <input type="text" name="q4" required>
      </li><br>

      <li>
        <label>5. Qual é o operador lógico para "e" em Python?</label><br>
        <input type="text" name="q5" required>
      </li><br>
    </ol>
    <button type="submit">Enviar Respostas</button>
  </form>

  <h3>Resultado:</h3>
  <pre id="jsonOutput"></pre>

  <script>
    const form = document.getElementById('quizForm');
    const jsonOutput = document.getElementById('jsonOutput');
  
    const respostasCorretas = {
      q1: 'str',
      q2: 'def',
      q3: 'aaa',
      q4: '{}',
      q5: 'and'
    };
  
    form.addEventListener('submit', function(event) {
      event.preventDefault();
  
      const formData = new FormData(form);
      let acertos = 0;
  
      for (let [key, value] of formData.entries()) {
        const resposta = value.trim().toLowerCase();
        if (resposta === respostasCorretas[key]) {
          acertos++;
        }
      }
  
      const resultado = { acertos: acertos };
  
      // Exibe o resultado no navegador
      jsonOutput.textContent = JSON.stringify(resultado, null, 2);
  
      // Envia os acertos para o backend (Flask)
      fetch('/quizPython', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(resultado)
      })
      .then(res => res.json())
      .then(data => {
        console.log("Resposta do servidor:", data);
      })
      .catch(error => {
        console.error("Erro ao enviar acertos:", error);
      });
  
      form.reset();
    });
  </script>
</body>
</html>
